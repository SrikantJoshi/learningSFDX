//Generated by wsdl2apex

    public class wwwWebservicexNet {
        public String symbol { get; set; }
        public String retVal { get; set; }
        public String retValss { get; set; }
        public XmlStreamReader  retVals { get; set; }
        
        public class Book {
         String name;
         String author;
       }

       Book[] parseBooks(XmlStreamReader reader) {
         Book[] books = new Book[0];
         while(reader.hasNext()) {

    //  Start at the beginning of the book and make sure that it is a book 
        
             if (reader.getEventType() == XmlTag.START_ELEMENT) {
             system.debug('---------reader.getLocalName()'+reader.getLocalName());
                if ('StockQuotes' == reader.getLocalName()) {

    //  Pass the book to the parseBook method (below)  
        
                    Book book = parseBook(reader);
                    books.add(book);
                }
             }/*else {
                //system.debug('---------value'+reader.getLocalName());
                Book book = new Book();
                while(reader.hasNext()) {
                    if(reader.getEventType() == XmlTag.END_ELEMENT){
                        break;
                    }else{
                        book.name = reader.getText();
                        system.debug('---------value: '+book.name );
                    }
                }
             }*/
            reader.next();
         }
        return books;
       }

    // Parse through the XML, deterimine the auther and the characters 
        
       Book parseBook(XmlStreamReader reader) {
         Book book = new Book();
         book.author = reader.getAttributeValue(null, 'author');
         while(reader.hasNext()) {
            if (reader.getEventType() == XmlTag.END_ELEMENT) {
               break;
            } else if (reader.getEventType() == XmlTag.CHARACTERS) {
               book.name = reader.getText();
               system.debug('-------book.name'+book.name);
            }
            reader.next();
         }
         return book;
       }


        public string getvalueget(){
            wwwWebservicexNet.StockQuoteSoap proxyClass = new wwwWebservicexNet.StockQuoteSoap();
            retVal = proxyClass.GetQuote(symbol);
            XmlStreamReader retVals = new XmlStreamReader(retVal);
            Book[] books = parseBooks(retVals);
            system.debug('---------'+parseBooks(retVals));
            System.debug(retVal);
            /*Dom.Document doc = new Dom.Document(); 
            doc.load(retVal);
            Dom.XMLNode Envelope = doc.getRootElement(); 
            Dom.XMLNode responseStatus1 = Envelope.getChildElement('Stock', null);
            if(responseStatus1 !=null)
            {
                //book.name = responseStatus1.getText();
                system.debug('@@@@@@@@________'+responseStatus1.getText());
            }*/
           
            return null;
        }
        
       
        public class GetQuote_element {
            public String symbol { get; set; }
            private String[] symbol_type_info = new String[]{'symbol','http://www.webserviceX.NET/',null,'0','1','false'};
            private String[] apex_schema_type_info = new String[]{'http://www.webserviceX.NET/','true','false'};
            private String[] field_order_type_info = new String[]{'symbol'};
        }
        public class StockQuoteSoap {
            public String endpoint_x = 'http://www.webservicex.net/stockquote.asmx';
            public Map<String,String> inputHttpHeaders_x;
            public Map<String,String> outputHttpHeaders_x;
            public String clientCertName_x;
            public String clientCert_x;
            public String clientCertPasswd_x;
            public Integer timeout_x;
            private String[] ns_map_type_info = new String[]{'http://www.webserviceX.NET/', 'wwwWebservicexNet'};
            public String GetQuote(String symbol) {
                wwwWebservicexNet.GetQuote_element request_x = new wwwWebservicexNet.GetQuote_element();
                wwwWebservicexNet.GetQuoteResponse_element response_x;
                request_x.symbol = symbol;
                Map<String, wwwWebservicexNet.GetQuoteResponse_element> response_map_x = new Map<String, wwwWebservicexNet.GetQuoteResponse_element>();
                response_map_x.put('response_x', response_x);
                WebServiceCallout.invoke(
                  this,
                  request_x,
                  response_map_x,
                  new String[]{endpoint_x,
                  'http://www.webserviceX.NET/GetQuote',
                  'http://www.webserviceX.NET/',
                  'GetQuote',
                  'http://www.webserviceX.NET/',
                  'GetQuoteResponse',
                  'wwwWebservicexNet.GetQuoteResponse_element'}
                );
                response_x = response_map_x.get('response_x');
                return response_x.GetQuoteResult;
                //return response_x ;
            }
        }
        public class GetQuoteResponse_element {
            public String GetQuoteResult;
            private String[] GetQuoteResult_type_info = new String[]{'GetQuoteResult','http://www.webserviceX.NET/',null,'0','1','false'};
            private String[] apex_schema_type_info = new String[]{'http://www.webserviceX.NET/','true','false'};
            private String[] field_order_type_info = new String[]{'GetQuoteResult'};
        }
    }